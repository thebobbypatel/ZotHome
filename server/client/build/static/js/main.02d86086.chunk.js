(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{248:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(46),i=a.n(n),l=a(12),j=a(55),r=a.n(j),b=(a(81),a(140),a(113)),o=a(253),d=a(254),O=a(255),h=a(251),u=a(115),x=a(3),p=function(e){var t=e.title,a=e.data;return Object(x.jsxs)("div",{className:"box",children:[Object(x.jsx)("p",{className:"boxTitle",children:t}),Object(x.jsx)("p",{className:"boxData",children:a})]})};var g=function(){var e=Object(c.useState)(-1),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(-1),i=Object(l.a)(n,2),j=i[0],g=i[1],m=Object(c.useState)(-1),S=Object(l.a)(m,2),f=S[0],v=S[1],T=Object(c.useState)(-1),y=Object(l.a)(T,2),C=y[0],L=y[1],N=Object(c.useState)(4e3),k=Object(l.a)(N,2),A=k[0],w=k[1],D=Object(c.useState)(72),E=Object(l.a)(D,2),H=E[0],P=E[1],V=Object(c.useState)("?"),I=Object(l.a)(V,2),J=I[0],Z=I[1],q=Object(c.useState)("?"),z=Object(l.a)(q,2),B=z[0],F=z[1],G=Object(c.useState)("?"),M=Object(l.a)(G,2),R=M[0],U=M[1],K=Object(c.useState)([]),Q=Object(l.a)(K,2),W=Q[0],X=Q[1],Y=Object(c.useState)(0),$=Object(l.a)(Y,2),_=$[0],ee=$[1],te=Object(c.useState)([]),ae=Object(l.a)(te,2),ce=ae[0],se=ae[1],ne=Object(c.useState)([]),ie=Object(l.a)(ne,2),le=ie[0],je=ie[1];setTimeout((function(){ee(_+1)}),5e3);var re={labels:le,datasets:[{label:"Temperature",data:ce,fill:!1,backgroundColor:"rgb(25, 99, 132)",borderColor:"rgba(25, 99, 132, 0.2)"}]};return Object(c.useEffect)((function(){console.log("----------- API Call "+_+" ------------"),r.a.get("http://127.0.0.1:5000/vitals").then((function(e){var t;console.log("Get request status: "+e.status),s(e.data.temp),g(e.data.humidity),L(e.data.sound),v(e.data.light),Z(e.data.tempControl),F(e.data.noise),U(e.data.lightbulb),X(null===(t=e.data)||void 0===t?void 0:t.tempTimeData);var a=[],c=[];W.forEach((function(e){a.push(e.temp);var t=new Date(e.time);c.push(t.toLocaleString("en-US",{timeZone:"PST"}))})),se(a),je(c)})).catch((function(e){console.log("Error: "+e)}))}),[_]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(o.a,{children:Object(x.jsx)("p",{className:"pageTitle",children:"ZotHome"})}),Object(x.jsx)(o.a,{children:Object(x.jsxs)("h1",{children:["Current Data: (Temp Setting: ",H," Light Setting: ",A,")"]})}),Object(x.jsxs)(o.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Temperature",data:a})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Humidity",data:j})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Light",data:f})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Sound",data:C})})]}),Object(x.jsx)(o.a,{children:Object(x.jsx)("h1",{children:"Status:"})}),Object(x.jsxs)(o.a,{children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"AC/Heater",data:J})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Lightbulb",data:R})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(p,{title:"Noise",data:B})})]}),Object(x.jsx)(o.a,{children:Object(x.jsx)("h2",{children:"Set Temperature [Any] and Set Preferred Light Level [0 - 4095]:"})}),Object(x.jsx)(o.a,{children:Object(x.jsxs)(O.b,{size:"large",children:[Object(x.jsx)(d.a,{children:Object(x.jsx)(h.a,{placeholder:"Set Temperature",onChange:function(e){P(e.target.value)}})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(u.a,{type:"primary",onClick:function(){return function(){console.log(H),console.log("sending setTemp");var e={setTempVal:H};r.a.post("http://127.0.0.1:5000/setTemp",e).catch((function(e){return console.log(e)}))}()},children:"Set"})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(h.a,{placeholder:"Set Light Level",onChange:function(e){w(e.target.value)}})}),Object(x.jsx)(d.a,{children:Object(x.jsx)(u.a,{type:"primary",onClick:function(){return function(){console.log(A),console.log("sending setLight");var e={setLightVal:A};r.a.post("http://127.0.0.1:5000/setLight",e).catch((function(e){return console.log(e)}))}()},children:"Set"})})]})}),Object(x.jsx)(o.a,{children:Object(x.jsx)("h2",{children:"Temperature History:"})}),Object(x.jsx)(o.a,{children:Object(x.jsx)("div",{className:"tempChart",children:Object(x.jsx)(b.a,{data:re,options:{responsive:!0,title:{display:!0,text:"Creating Real-Time Charts with Flask"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Time"}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}})})})]})};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(g,{})}),document.getElementById("root"))},81:function(e,t,a){}},[[248,1,2]]]);
//# sourceMappingURL=main.02d86086.chunk.js.map